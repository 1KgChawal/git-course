\documentclass[aspectratio=169]{beamer}
%% For 4:3 aspect ratio:
%% \documentclass{beamer}
\usepackage{../git-course}

\title[git-course]{Using \gh\ and \gs}
\author{Chris Grandin \& Andy Edwards}
\date{\today}

\begin{document}

\frame[plain]{
\titlepage
}

\section{Introduction}
\frame{\frametitle{Git Workflow}
  Decide what kind of a project you are working on. Is it something that
  people contribute small parts of sporadically, or is it something that
  requires collaboration between people working closely on a project?

  \bi
    \item A project where collaborators work closely together
      \bi
        \item Fork
        \item Merge other people's remote repositories using \gs
      \ei
    \item A project where people contribute small parts to a \emph{master}
      \bi
        \item Don't Fork
        \item Pull request on the \gh\ site
      \ei
  \ei

  We will focus on the first method, as we are mostly working on assessments
  or other smallish projects closely with collaborators.
}

\section{Creating/Cloning}
\frame{\frametitle{Creating a new repository}
  \bi
    \item Sign into your \gh\ account, click on the
      \emph{Repositories} tab, and press the \emph{New} button.
    \item Give your repository a name. I like to use small letters and dashes
      between words.
    \item Check \emph{Initialize this repository with a README}.
    \item Leave \emph{Add .gitignore} and \emph{Add a license}
      set to \emph{None}.
    \item Click \emph{Create repository}.
  \ei
}

\frame{\frametitle{Cloning your new repository}
  \bi
    \item Once you have created a repository on \gh, copy the URL
      of the repository.
    \item Open the \gs\ and run the following command to clone your repository:
      \lstinline{git clone URL REPO-NAME}\\
      where:\\
      \bi
        \item URL is the url of your newly created repository. You can paste
          the URL into the command line (on Windows) by pressing the right
          mouse button.
        \item REPO-NAME will be the name of the directory to be created.
      \ei
  \ei
}

\frame{\frametitle{Windows only: Storing your credentials}
  When you push your changes to \gh, the \gs\ will ask you for your username
  and password every time. This is annoying, so issue the following command,
  and it will only ask you the first time. After that your credentials will be
  stored and you won't need to enter them again. You need to do this for each
  repository you have.\\
  \bigskip
  \lstinline{git config --global credential.helper wincred}
}

\section{Committing new files}
\begingroup
\small
\frame{\frametitle{Copy and commit \emph{.gitignore}}
  \bi
    \item Copy the \emph{.gitignore} file from the git-course directory and
      paste it into your newly cloned directory. You can edit this to suit
      the project, as there is a different \emph{.gitignore} file for each
      project.
    \item In the \gs, enter the new directory:\\
      \lstinline{cd REPO-NAME}\\
    \item Check the status of your repository:\\
      \lstinline{git s}
    \item You will see that the new file \emph{.gitignore} has not been
      added for commit. You need to add any new files to the commit by
      running the command:\\
      \lstinline{git add FILENAME}
    \item Make a commit for the changes:\\
      \lstinline{git com "Commit message"}\\
      where "Commit message" is a useful message saying what the commit
      contains.
    \item Push the commit to \gh:
      \lstinline{git push}
    \item Check the \gh\ webpage and see your commit and that the file
      has been uploaded.
  \ei
}
\endgroup

\frame{\frametitle{Adding multiple files at once - slide 1}
  Often you add multiple files or a new directory with files in it. In
  these cases, when you run \lstinline{git s}, you will see a large
  listing of files including relative paths. Files can be added at once, by
  using the \textbf{*} wildcard:
  \bi
    \item Add a new directory to your repository, using your normal method.
      Call it \lstinline{test}.
    \item Add a couple of new test files to that directory called
      \lstinline{test1.txt} and \lstinline{test2.txt}. Put some example text
      in each and save them.
    \item On the command line, check the status:\\
      \lstinline{git s}
    \item You will see a listing showing \emph{Untracked files}. To add them in
      preparation for a commit, issue the command:
      \lstinline{git add test/*}
  \ei
  \bigskip
  Continued...
}

\frame{\frametitle{Adding multiple files at once - slide 2}
  \bi
    \item Check the status of the repository again:
      \lstinline{git s}
    \item It will now show a \emph{new file} in \emph{Changes to be committed}
    \item Commit the changes:\\
      \lstinline{git com "Added new files to test directory."}
    \item Push the changes to \gh:\\
      \lstinline{git push}
    \item Check the \gh\ webpage and see your commit and that the files
      have been uploaded.
  \ei
}

\section{Branches}
\frame{\frametitle{Branching overview}
  When you want to add some new code to your project, but don't want to break
  what is already there, you create a new branch. Once you are satisfied that
  everything is working correctly, you merge the changes into your master
  branch. You can also push branches to \gh\ if you feel the branch is going
  to take longer to deal with or if there are going to be multiple
  collaborators on that new branch.\\

  It is a good isea to commit all changes before creating a new branch, as
  local changes which haven't been coimmitted will appear in the new branch
  as well.
}

\frame{\frametitle{Creating a new branch}
  \bi
    \item To create a new branch based off the branch you are currently on:
      \lstinline{git checkout -b BRANCH-NAME}\\
      or use the alias:\\
      \lstinline{git cb BRANCH-NAME}\\
      You will be automatically placed in the new branch, and any changes
      to files will now occur in the new branch.
    \item To view all local branches:
      \lstinline{git branch}
    \item to switch to another branch:\\
      \lstinline{git checkout BRANCH-NAME}\\
      or use the alias:
      \lstinline{git co BRANCH-NAME}\\
  \ei
}

\frame{\frametitle{Deleting branches}
  \bi
    \item To delete a branch that you are not currently in:
      \lstinline{git branch -d BRANCH-NAME}\\
    \item To delete the branch you are currently in, switch to another branch
      first, (e.g. master) and then delete the branch:
      \lstinline{git co master}\\
      \lstinline{git branch -d BRANCH-NAME}\\
    \item If you have changes in the branch, you will not be allowed to delete
      it. If you want to forcibly delete it, discarding your changes, use:
      \lstinline{git branch -D BRANCH-NAME}
  \ei
}

\frame{\frametitle{Merging branches}
  \bi
    \item To merge a branch into another branch:
      \bn
        \item Change to the branch you want to merge into, typically master:
          \lstinline{git co master}
        \item Merge the branch into master:
          \lstinline{git merge BRANCH-NAME}
      \en
    \item If there was a merge conflict, you must fix it at this point. This
      will be covered later in the section about merging remotes, which
      follows the exact same method.
    \item If you are done with that branch for good, delete it.
  \ei
}

\frame{\frametitle{Pushing branches to \gh}
  If you want to push the branch up to \gh, i.e. so others can fetch it and
  edit it, you need to be in the branch locally and:\\

  \lstinline{git --set-upstream origin BRANCH-NAME}\\

  Oddly enough if you forget this and type:\\

  \lstinline{git push}\\

  while in the new branch, \gs\ will tell you what you need to do!\\

  Once you've done this for a branch, all you have to do for future
  changes is:\\
  \lstinline{git push}
}

\frame{\frametitle{Deleting branches from \gh}
  To remove a branch entirely from \gh:\\
  \lstinline{git push origin --delete BRANCH-NAME}\\
  The local branch will still exist, so if you want to delete that as well,
  follow the instructions on the \emph{Deleting branches} slide above.
}

\section{\gh\ - Adding collaborators}
\frame{\frametitle{Add collaborators}
  If your \gh\ repository is public, anyone can post an issue. If you want
  someone to be able to:
  \bi
    \item Set assignees to issues
    \item Receive notifications when you reply to their issue
  \ei
  You need to add them as a collaborator. Select the \emph{Settings} tab and
  then the \emph{Collaborators} button. Type their \gh\ username in and send
  them an invitation to collaborate.
}

\frame{\frametitle{A Great Git page}
  \url{https://www.git-tower.com/learn/git/ebook/en/command-line}
}

\end{document}
